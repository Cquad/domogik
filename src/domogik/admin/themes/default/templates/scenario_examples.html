{% extends theme("base/base.html") %}

{% block content %}
<div class="container">
    <h1>{% trans %}Scenario examples{% endtrans %}</h1>

    <h2>{% trans %}Basic rules{% endtrans %}</h2>
    <ul>
      <li>#1 - {% trans %}<strong>if</strong> and <strong>else if</strong> are conditions. If the condition described is correct (true), the <strong>do</strong> part will be executed : the executed steps are called the <strong>actions</strong>.{% endtrans %}</li>
      <li>#2 - {% trans %}<strong>A condition is evaluated each time one of its element changes</strong>. For example if you have an element <strong>current time</strong> and a <strong>device sensor</strong>, the condition can be evaluated once or more in the same minute if the device sensor value change one or more time : <em>1 current time evaluation + N device sensor changes of value</em>.{% endtrans %}</li>
      <li>#3 - {% trans %}Because of the <strong>rule #2</strong>, the actions related to one condition may be executed each time the condition is true.{% endtrans %}</li>
      <ul>
        <li>{% trans %}You may not want the actions to be executed each time : for example, you want to do an action only once when a temperature sensor is higher than 20 degrees. To handle this usage you will have to use an <strong>hysteresis</strong> block on top of your action blocks.{% endtrans %}</li>
        <li>{% trans %}The <strong>hysteresis</strong> block will make your scenario remind which block of actions was executed the last time : the next time a condition will be true, if the related actions were already executed once, they will not be executed.{% endtrans %}</li>
        <li>{% trans %}This means that <strong>you will need to have at least 2 hysteresis block in a scenario</strong>. Else, your scenario actions will be executed only once!{% endtrans %}</li>
      </ul>

      <li>#4 - {% trans %}<em>"Keep it simple, stupid"</em>. The more a scenario will be complex, the more it will be hard for you to maintain it a few monthes after.{% endtrans %}</li>
    </ul>

<!--
    <h2>{% trans %}xxxx{% endtrans %}</h2>
    <div class="scenario-sample">
      <img src="/static/images/help/scenario/example_xxx.png">
      <h3>{% trans %}Prerequisites{% endtrans %}</h3>
      <ul>
        <li>{% trans %}xxxx{% endtrans %}</li>
      </ul>
      <h3>{% trans %}Description{% endtrans %}</h3>
      <p>{% trans %}xxxx{% endtrans %}</p>
    </div>
-->

    <h2>{% trans %}Sunrise related actions{% endtrans %}</h2>
    <div class="scenario-sample">
      <img src="/static/images/help/scenario/example_sunrise_01.png">
      <h3>{% trans %}Prerequisites{% endtrans %}</h3>
      <ul>
        <li>{% trans %}Package <strong>domogik-plugin-weather</strong>{% endtrans %}</li>
      </ul>
      <h3>{% trans %}Description{% endtrans %}</h3>
      <p>{% trans %}15 minutes before the sunrise, execute some actions.{% endtrans %}</p>
      <p>{% trans %}The **hysteresis** block is needed to avoid a double execution of the actions.{% endtrans %}</p>
    </div>

</div>
{% endblock %}
